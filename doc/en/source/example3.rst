*****************************************
Integrate FogFlow with FIWARE
*****************************************

Since November 2017 FogFlow has been promoted as an incubated open source Generic Enabler (GE) in the FIWARE community. 
Within this community, FogFlow holds a unique position as Cloud-Edge Orchestrator 
to launch and manage dynamic data processing flows seamlessly over cloud and edges for data ingestion, 
transformation, and also advanced analytics. 

As illustrated by the following picture, FogFlow can interwork with other FIWARE GEs 
to power FIWARE-based IoT Platforms at the following two layers.
At the upper layer, FogFlow can interwork with Orion Broker 
via the standardized NGSI interface in the following two ways. 
The first one is to consider Orion Broker as the destina-tion of any context information generated by a FogFlow IoT service. 
In this case a NGSI subscription must be issued by an external application or FogFlow Dashboard 
to ask FogFlow to forward the requested context updates to a specified Orion Broker. 

The second one is to consider Orion Broker as a data source to provide additional information. 
In this case we can implement a simple fog function to fetch any necessary information into the FogFlow system. 
In either way there is no need to make any change to the existing Orion-based FIWARE system. 
Therefore, this type of integration can be done fast with nearly zero effort.
At the low layer, for the integration with any Non-NGSI supported devices 
like MQTT, COAP, OneM2M, OPC-UA, LoRaWAN, 
FogFlow can reuse the modules of existing IoT agents and transform them into FogFlow adapters 
based on the fog function programming model. 
With these adapters FogFlow can dynamically launch necessary adapters for device integration directly at edges. 
This way FogFlow is able to talk with a wide range of IoT devices.

    .. figure:: figures/orion-integration.png
       :width: 100 %




